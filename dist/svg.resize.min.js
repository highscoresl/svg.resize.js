/*! svg.resize.js v2.0.0 MIT*/;
this.SVG=this.SVG||{},this.SVG.ResizeHandler=function(a){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function r(e){return{x:(e=e.changedTouches?e.changedTouches[0]:e).clientX,y:e.clientY}}var i=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.lastCoordinates=null,this.eventType="",this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.shear=this.shear.bind(this)}var e,i,s;return e=t,(i=[{key:"active",value:function(e){this.el.off(".resize"),e&&this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","shear.resize"],this.handleResize)}},{key:"handleResize",value:function(e){this.eventType=e.type;var t=e.detail,i=t.x,s=t.y,n=t.event,t=!n.type.indexOf("mouse");t&&1!==(n.which||n.buttons)||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented||(this.box=this.el.bbox(),this.startPoint=this.el.point(i,s),s=(t?"mousemove":"touchmove")+".resize",t=(t?"mouseup":"touchcancel.resize touchend")+".resize","rot"===e.type?a.on(window,s,this.rotate):"shear"===e.type?a.on(window,s,this.shear):a.on(window,s,this.resize),a.on(window,t,this.endResize))}},{key:"resize",value:function(e){var t=this.el.point(r(e)),i=t.x-this.startPoint.x,s=t.y-this.startPoint.y,n=this.box.x+i,h=this.box.y+s,t=this.box.x2+i,i=this.box.y2+s,s=new a.Box(this.box);this.eventType.includes("l")&&(s.x=Math.min(n,this.box.x2),s.x2=Math.max(n,this.box.x2)),this.eventType.includes("r")&&(s.x=Math.min(t,this.box.x),s.x2=Math.max(t,this.box.x)),this.eventType.includes("t")&&(s.y=Math.min(h,this.box.y2),s.y2=Math.max(h,this.box.y2)),this.eventType.includes("b")&&(s.y=Math.min(i,this.box.y),s.y2=Math.max(i,this.box.y)),s.width=s.x2-s.x,s.height=s.y2-s.y,this.el.dispatch("resize",{box:new a.Box(s),angle:0,shear:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.move(s.x,s.y).size(s.width,s.height)}},{key:"rotate",value:function(e){var t=this.el.point(r(e)),i=this.box.cx,s=this.box.cy,n=this.startPoint.x-i,h=this.startPoint.y-s,i=t.x-i,t=t.y-s,s=180/Math.PI,t=Math.atan2(n,h)-Math.atan2(i,t);this.el.dispatch("resize",{box:this.startBox,angle:t,shear:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.rotate(t*s)}},{key:"shear",value:function(e){var t=this.el.point(r(e)),i=this.box.cx,s=this.box.cy,n=this.startPoint.x-i,s=this.startPoint.y-s,t=t.x-i,i=180/Math.PI,n=Math.atan2(n,s),n=Math.atan2(t,s)-n;this.el.dispatch("resize",{box:this.startBox,angle:0,shear:n,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.skew(i*n,0)}},{key:"endResize",value:function(e){"rot"!==this.eventType&&"shear"!==this.eventType&&this.resize(e),this.eventType="",a.off(window,"mousemove.resize touchmove.resize"),a.off(window,"mouseup.resize touchend.resize")}},{key:"snapToGrid",value:function(e,t){}}])&&n(e.prototype,i),s&&n(e,s),t}();return a.extend(a.Element,{resize:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.remember("_resizeHandler");return t||(e.prototype instanceof i?(t=new e(this),e=!0):t=new i(this),this.remember("_resizeHandler",t)),t.active(e),this}}),i}(SVG);
//# sourceMappingURL=svg.resize.min.js.map
